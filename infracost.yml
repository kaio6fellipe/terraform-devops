version: 0.1

projects:
  - path: stacks
    terraform_workspace: root

  - path: stacks/platform
    terraform_workspace: platform

  - path: stacks/platform/bastion
    terraform_workspace: bastion

  - path: stacks/platform/ansible-server
    terraform_workspace: ansible-server

  - path: stacks/platform/platform-k8s
    terraform_workspace: platform-k8s

  - path: stacks/platform/platform-k8s/node-group
    terraform_workspace: platform-k8s-node-group

  - path: stacks/platform/platform-k8s/apps
    terraform_workspace: platform-k8s-apps

  - path: stacks/apps
    terraform_workspace: apps

  # - path: .
  #   terraform_workspace: staging
  #   terraform_var_files:
  #     - config/staging/terraform.tfvars

  # - path: .
  #   terraform_workspace: prod
  #   terraform_var_files:
  #     - config/prod/terraform.tfvars